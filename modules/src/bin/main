/* vim: set ft=cpp: */

#include <prelude>
#include <math>
#include <io>
#include <window>
#include <bitset>

using namespace helix;

extern "C" auto main(i32 argc, i8* argv[]) -> i32
{
	window main_window;

	main_window
		.set_title("Quasi")
		.set_resolution(tuple(960, 540))
		.set_visible(true);


	while(true) {
		//handle window events
		auto event = main_window.poll();

		visit
		(
			[](auto&& event)
			{
				using type = decay<decltype(event)>;

				if constexpr(eq<type, window_event_close_requested>)
				{
				}
				
				if constexpr(eq<type, window_event_key>)
				{
				}
				
				if constexpr(eq<type, window_event_pointer>)
				{
				}
				
				if constexpr(eq<type, window_event_focus>)
				{
				}
				
				if constexpr(eq<type, window_event_resize>)
				{
				}
			},	
			event
		);
	}

	/*out << "Hello, world!" << endl;

	  err << "Is this thing on?" << endl;

	  f32 f = 420.69;

	  out << "Here is a floating point number: " << f << endl; 

	  out << "strlen(\"1234\") = " << strlen("1234") << endl;

	  out << "Please input chars:" << endl;

	  string data;

	  in >> data;

	  out << "you wrote: " << data << endl;
	  */
}
